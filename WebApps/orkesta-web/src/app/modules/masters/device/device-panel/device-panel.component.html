<p-sidebar [(visible)]="showDialog" (onShow)="ngOnInit()" (onHide)="hideDialog()" [blockScroll]="false"
  [showCloseIcon]="true" [dismissible]="false" position="right" styleClass="p-sidebar-md" [style]="{'overflow': 'scroll'}">

  <ng-template pTemplate="header"> 
    <h5 class="p-m-0">Dispositivos</h5>
  </ng-template>
  <ng-template pTemplate="content">

 <div class="p-fluid p-grid p-formgrid">
          <div class="p-field p-col-12 p-md-12 p-sm-12">
            <label for="name">Nombre <span [ngStyle]="{'color':'red'}">*</span></label>
            <input id="float-input" [(ngModel)]="_data.deviceName" lettersOnly type="text" pInputText
              (input)="_validations.toCapitalizeSimbology($event)"
              maxlength="50" [class]="submitted && (!_data.deviceName || !_data.deviceName.trim()) ? 'ng-dirty ng-invalid' : ''" (keyup.enter)="saveDeviceType()" (paste)="_validations.noPaste($event)">
            <small class="p-invalid" *ngIf="submitted && (!_data.deviceName || !_data.deviceName.trim())">El nombre es
              requerido</small>
  </div>

  <div class="p-field p-col-12 p-md-12 p-sm-12">
            <label for="active">Tipo dispositivo <span [ngStyle]="{'color':'red'}">*</span></label>
            <p-dropdown [options]="deviceTypeList" [(ngModel)]="_data.idDeviceType" placeholder="Seleccione..."
              appendTo="body" (keyup.enter)="saveDevice()" [class]="submitted && _data.idDeviceType <= 0 ? 'ng-dirty ng-invalid' : ''"></p-dropdown>
            <small class="p-invalid" *ngIf="submitted && _data.idDeviceType <= 0"> El tipo de dispositivo es requerido</small>
  </div>

 <div class="p-field p-col-12 p-md-12 p-sm-12">
            <label for="active">Marca <span [ngStyle]="{'color':'red'}">*</span></label>
            <p-dropdown [options]="brandsList" [(ngModel)]="_data.idBrand" placeholder="Seleccione..."
              appendTo="body" (keyup.enter)="saveDevice()" [class]="submitted && _data.idBrand <= 0 ? 'ng-dirty ng-invalid' : ''"></p-dropdown>
            <small class="p-invalid" *ngIf="submitted && _data.idBrand <= 0"> El tipo de dispositivo es requerido</small>
  </div>



  <div class="p-field p-col-12 p-md-12 p-sm-12">
         <label for="abreviation">Abreviatura </label>
         <input type="text" pInputText id="abreviation" (input)="_validations.toUppercaseString($event)"
           [(ngModel)]="_data.abreviation" maxlength="3" autofocus lettersOnly (keyup.enter)="saveDevice()" (paste)="_validations.noPaste($event)" />
           <small class="p-invalid" *ngIf="(submitted &&( _data.deviceName && _data.deviceName.trim().toLocaleUpperCase() == _data.abreviation.trim()))||( _data.deviceName && _data.deviceName.trim().toLocaleUpperCase() == _data.abreviation.trim().toLocaleUpperCase()) ">La abreviatura debe ser diferente al nombre</small>
   </div>


<div class="p-field p-col-12 p-md-12 p-sm-12">
  <label for="abreviation">Cantidad </label>
  <input type="number" pInputText id="quantity" [(ngModel)]="_data.quantity" min="1" maxlength="3" autofocus
    (keyup.enter)="saveDevice()" (paste)="_validations.noPaste($event)"
    (input)="_validations.keyPressOnlyNumbers($event)" />
  <small class="p-invalid" *ngIf="submitted && _data.quantity <= 0">
    La cantidad debe ser mayor que cero
  </small>
</div>




  <div class="p-field p-col-12 p-md-12 p-sm-12">
       <label for="active">Estatus <span [ngStyle]="{'color':'red'}">*</span></label>
       <p-dropdown name="cboactive" [options]="statuslist" appendTo="body" [(ngModel)]="_data.indActive" placeholder="Estatus" [disabled]="_data.idDeviceType<=0" (keyup.enter)="saveDeviceType()" ></p-dropdown>
  </div>

  <div class="p-field p-col-12 p-md-12 p-sm-12">
    <span [ngStyle]="{'color':'red'}">(*) Campos obligatorios</span>
  </div>


  <div class="p-field p-col-12 p-md-12">
    <button   pButton pRipple  label="Guardar" (click)="saveDevice()" icon="pi pi-save"
      class="p-button-info p-mr-2"></button>
  </div>


 </div>


</ng-template>
<p-confirmDialog [style]="{width: '30vw'}" [baseZIndex]="10000" rejectButtonStyleClass="p-button-text"></p-confirmDialog>
