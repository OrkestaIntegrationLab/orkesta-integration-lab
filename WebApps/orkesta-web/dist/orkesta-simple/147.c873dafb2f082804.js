"use strict";(self.webpackChunkorkestaSimple=self.webpackChunkorkestaSimple||[]).push([[147],{5147:(re,f,p)=>{p.r(f),p.d(f,{MastersModule:()=>ne});var s=p(6895),T=p(6773);class y{constructor(){this.id=0,this.name=""}}var e=p(8256),l=p(529);let h=(()=>{class i{constructor(){}getHttpParamsFromPlainObject(t,n=!0){let r=new l.LE;for(const a of Object.keys(t))null===t[a]&&!n||(t[a]instanceof Array?t[a].forEach(oe=>{r=r.append(`${a}`,oe??"")}):r=t[a]instanceof Date||"[object Date]"===Object.prototype.toString.call(t[a])?r.append(a.toString(),Z(t[a])):r.append(a.toString(),t[a]??""));return r}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const Z=i=>{if(!i)return;const o=new Date(i),t=r=>("00"+r).slice(-2);return[o.getFullYear(),t(o.getMonth()+1),t(o.getDate())].join("")};let x=(()=>{class i{constructor(t,n){this._httpClient=t,this._httpHelpersService=n,this.baseUrl=" https://localhost:7272/api/device/"}getAll(){return this._httpClient.get(this.baseUrl)}create(t){return this._httpClient.post(this.baseUrl,t)}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(l.eN),e.LFG(h))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var m=p(1740);function F(i,o){if(1&i&&(e.TgZ(0,"li"),e._uU(1),e.qZA()),2&i){const t=o.$implicit;e.xp6(1),e.Oqu(t.name)}}const S=function(){return{color:"red"}};let A=(()=>{class i{constructor(t){this._deviceService=t,this.devices=[],this.newDevice=new y}ngOnInit(){}loadDevices(){this._deviceService.getAll().subscribe(t=>{this.devices=t})}addDevice(){!this.newDevice.name||this._deviceService.create(this.newDevice).subscribe(()=>{this.newDevice=new y,this.loadDevices()})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(x))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-device"]],decls:14,vars:3,consts:[[1,"card"],[1,"p-fluid","p-grid","p-formgrid"],[1,"p-field","p-col-12","p-md-6"],["for","name"],[3,"ngStyle"],["id","float-input","noneSpecialCharacters","","type","text","pInputText","","maxlength","50"],[1,"p-invalid"],[4,"ngFor","ngForOf"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"h2"),e._uU(2,"Dispositivos"),e.qZA(),e.TgZ(3,"div",1)(4,"div",2)(5,"label",3),e._uU(6,"Nombre "),e.TgZ(7,"span",4),e._uU(8,"*"),e.qZA()(),e._UZ(9,"input",5),e.TgZ(10,"small",6),e._uU(11,"El nombre es requerido"),e.qZA()()(),e.TgZ(12,"ul"),e.YNc(13,F,2,1,"li",7),e.qZA()()),2&t&&(e.xp6(7),e.Q6J("ngStyle",e.DdM(2,S)),e.xp6(6),e.Q6J("ngForOf",n.devices))},dependencies:[s.sg,s.PC,m.o]}),i})();class C{constructor(){this.date=new Date,this.temperatureC=-1,this.temperatureF=-1,this.summary=""}}class M{constructor(){this.id=-1}}let U=(()=>{class i{constructor(t,n){this._httpClient=t,this._httpHelpersService=n,this.baseUrl=" https://localhost:7272/WeatherForecast/"}getWeatherList(t=new M){return this._httpClient.get(this.baseUrl,{params:this._httpHelpersService.getHttpParamsFromPlainObject(t)})}create(t){return this._httpClient.post(this.baseUrl,t)}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(l.eN),e.LFG(h))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var c=p(805),D=p(5090),u=p(5593),v=p(3214),_=p(1765),g=p(1795);function H(i,o){1&i&&(e.TgZ(0,"tr")(1,"th"),e._uU(2,"Date"),e.qZA(),e.TgZ(3,"th"),e._uU(4,"TemperatureC"),e.qZA(),e.TgZ(5,"th"),e._uU(6,"TemperatureF"),e.qZA(),e.TgZ(7,"th"),e._uU(8,"Summary"),e.qZA()())}function N(i,o){if(1&i&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA()()),2&i){const t=o.$implicit;e.xp6(2),e.Oqu(t.date),e.xp6(2),e.Oqu(t.temperatureC),e.xp6(2),e.Oqu(t.temperatureF),e.xp6(2),e.Oqu(t.summary)}}function q(i,o){1&i&&e._uU(0,"Header Content")}function J(i,o){1&i&&e._uU(0,"Body Content")}function L(i,o){1&i&&e._uU(0,"Footer Content")}let P=(()=>{class i{constructor(t,n,r){this._weatherService=t,this._messageService=n,this.breadcrumbService=r,this.weathers=[],this.newWeather=new C,this.visible=!1,this.loading=!1,this.breadcrumbService.setItems([{label:"Maestros generales"},{label:"Clima",routerLink:["/devicetype-list"]}])}ngOnInit(){this.loadWeather()}loadWeather(){this._weatherService.getWeatherList().subscribe(t=>{this.weathers=t,console.log("Weather data loaded:",t),console.log(this.weathers)},t=>{this.loading=!1,this._messageService.add({severity:"error",summary:"Consulta",detail:"Ha ocurrido un error al cargar listadp de climas"})})}addWeather(){!this.newWeather.summary||this._weatherService.create(this.newWeather).subscribe(()=>{this.newWeather=new C,this.loadWeather()})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(U),e.Y36(c.ez),e.Y36(D.p))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-weather"]],decls:11,vars:3,consts:[[1,"card"],["pButton","","pRipple","","label","Mostrar Sidebar","icon","pi pi-arrow-right",3,"click"],[3,"value"],["pTemplate","header"],["pTemplate","body"],["position","right",3,"baseZIndex","visible","visibleChange"],["pTemplate","content"],["pTemplate","footer"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"h2"),e._uU(2,"Weather"),e.qZA(),e.TgZ(3,"button",1),e.NdJ("click",function(){return n.visible=!0}),e.qZA(),e.TgZ(4,"p-table",2),e.YNc(5,H,9,0,"ng-template",3),e.YNc(6,N,9,4,"ng-template",4),e.qZA(),e.TgZ(7,"p-sidebar",5),e.NdJ("visibleChange",function(a){return n.visible=a}),e.YNc(8,q,1,0,"ng-template",3),e.YNc(9,J,1,0,"ng-template",6),e.YNc(10,L,1,0,"ng-template",7),e.qZA()()),2&t&&(e.xp6(4),e.Q6J("value",n.weathers),e.xp6(3),e.Q6J("baseZIndex",1e4)("visible",n.visible))},dependencies:[u.Hq,c.jx,v.Y,_.iA,g.H]}),i})();class b{constructor(){this.Id=-1,this.Active=-1,this.Name="",this.Abbreviation=""}}let W=(()=>{class i{constructor(t,n){this._httpClient=t,this._httpHelpersService=n,this.baseUrl="https://localhost:7272/DeviceType/"}getDeviceTypeList(t=new b){return this._httpClient.get(this.baseUrl,{params:this._httpHelpersService.getHttpParamsFromPlainObject(t)})}create(t){return this._httpClient.post(this.baseUrl,t)}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(l.eN),e.LFG(h))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var O=p(3608),d=p(433),Y=p(2210);function I(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",1)(1,"div",2)(2,"div",3)(3,"span",4)(4,"input",5),e.NdJ("ngModelChange",function(r){e.CHM(t);const a=e.oxw();return e.KtG(a.filters.Name=r)})("keyup.enter",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.search())}),e.qZA(),e.TgZ(5,"label"),e._uU(6,"Tipo de dispositivo"),e.qZA()()()(),e.TgZ(7,"div",2)(8,"div",3)(9,"span",4)(10,"input",6),e.NdJ("ngModelChange",function(r){e.CHM(t);const a=e.oxw();return e.KtG(a.filters.Abbreviation=r)})("keyup.enter",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.search())}),e.qZA(),e.TgZ(11,"label",7),e._uU(12,"Abreviatura"),e.qZA()()()(),e.TgZ(13,"div",8)(14,"p-dropdown",9),e.NdJ("ngModelChange",function(r){e.CHM(t);const a=e.oxw();return e.KtG(a.filters.Active=r)})("keyup.enter",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.search())}),e.qZA()(),e.TgZ(15,"div",10)(16,"button",11),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.search())}),e.qZA(),e.TgZ(17,"button",12),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.clearFilters())}),e.qZA()()()}if(2&i){const t=e.oxw();e.xp6(4),e.Q6J("ngModel",t.filters.Name),e.xp6(6),e.Q6J("ngModel",t.filters.Abbreviation),e.xp6(4),e.Q6J("options",t.statuslist)("ngModel",t.filters.Active),e.xp6(2),e.Q6J("disabled",t.loading),e.xp6(1),e.Q6J("disabled",t.loading)}}let k=(()=>{class i{constructor(){this.expanded=!1,this.filtersChange=new e.vpe,this.loading=!1,this.onSearch=new e.vpe,this.statuslist=[{label:"Todos",value:"-1"},{label:"Activo",value:"1"},{label:"Inactivo",value:"0"}]}ngOnInit(){this.filters.Active=-1}search(){this.filtersChange.emit(this.filters),console.log("search",this.filters),this.onSearch.emit(this.filters)}clearFilters(){this.filters.Abbreviation="",this.filters.Active=-1,this.filters.Name=""}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-device-type-filter-panel"]],inputs:{expanded:"expanded",filters:"filters",loading:"loading",cboactive:"cboactive"},outputs:{filtersChange:"filtersChange",onSearch:"onSearch"},decls:1,vars:1,consts:[["class","p-grid p-mt-4 p-align-center vertical-container p-p-3",4,"ngIf"],[1,"p-grid","p-mt-4","p-align-center","vertical-container","p-p-3"],[1,"p-col-12","p-md-4","p-lg-3"],[1,"p-inputgroup"],[1,"p-float-label"],["name","Nombre","id","Name","type","text","pInputText","","lettersOnly","","noneSpecialCharacters","","maxlength","50",3,"ngModel","ngModelChange","keyup.enter"],["id","float-input","oninput","this.value = this.value.toUpperCase().trim()","type","text","pInputText","","maxlength","3","lettersOnly","",3,"ngModel","ngModelChange","keyup.enter"],["for","float-input"],[1,"p-col-12","p-md-4","p-lg-3","p-fluid"],["name","cboactive","placeholder","Estatus",3,"options","ngModel","ngModelChange","keyup.enter"],[1,"p-col-12","p-md-3","p-lg-8","p-lg-12","p-d-flex","p-jc-end"],["pButton","","pRipple","","label","Buscar","icon","pi pi-search",1,"p-button-info","p-mr-2",3,"disabled","click"],["pButton","","pRipple","","label","Limpiar","icon","pi pi-ban",1,"p-button-secondary",3,"disabled","click"]],template:function(t,n){1&t&&e.YNc(0,I,18,6,"div",0),2&t&&e.Q6J("ngIf",n.expanded)},dependencies:[s.O5,d.Fj,d.JJ,d.nD,d.On,u.Hq,m.o,g.H,Y.Lt]}),i})();function Q(i,o){1&i&&e._uU(0,"Header Content")}function G(i,o){1&i&&e._uU(0,"Body Content")}function B(i,o){1&i&&e._uU(0,"Footer Content")}const K=function(){return{overflow:"scroll"}};let z=(()=>{class i{constructor(){this.showDialog=!0,this.showDialogChange=new e.vpe}ngOnInit(){}hideDialog(){this.showDialog=!1,this.showDialogChange.emit(this.showDialog)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-device-type-panel"]],inputs:{showDialog:"showDialog"},outputs:{showDialogChange:"showDialogChange"},decls:4,vars:7,consts:[["position","right","styleClass","p-sidebar-md",3,"visible","blockScroll","showCloseIcon","dismissible","visibleChange","onShow","onHide"],["pTemplate","header"],["pTemplate","content"],["pTemplate","footer"]],template:function(t,n){1&t&&(e.TgZ(0,"p-sidebar",0),e.NdJ("visibleChange",function(a){return n.showDialog=a})("onShow",function(){return n.ngOnInit()})("onHide",function(){return n.hideDialog()}),e.YNc(1,Q,1,0,"ng-template",1),e.YNc(2,G,1,0,"ng-template",2),e.YNc(3,B,1,0,"ng-template",3),e.qZA()),2&t&&(e.Akn(e.DdM(6,K)),e.Q6J("visible",n.showDialog)("blockScroll",!1)("showCloseIcon",!0)("dismissible",!1))},dependencies:[c.jx,v.Y]}),i})();function j(i,o){1&i&&(e.TgZ(0,"tr")(1,"th"),e._uU(2,"Code"),e.qZA(),e.TgZ(3,"th"),e._uU(4,"Name"),e.qZA(),e.TgZ(5,"th"),e._uU(6,"Category"),e.qZA(),e.TgZ(7,"th"),e._uU(8,"Quantity"),e.qZA()())}function E(i,o){if(1&i&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA()()),2&i){const t=o.$implicit;e.xp6(2),e.Oqu(t.code),e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Oqu(t.category),e.xp6(2),e.Oqu(t.quantity)}}function R(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"app-device-type-panel",13),e.NdJ("showDialogChange",function(r){e.CHM(t);const a=e.oxw();return e.KtG(a.showDialog=r)})("_dataDeviceTypeChange",function(r){e.CHM(t);const a=e.oxw();return e.KtG(a._DeviceTypeViewModel=r)})("filtersChange",function(r){e.CHM(t);const a=e.oxw();return e.KtG(a.deviceTypeFilters=r)}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("showDialog",t.showDialog)("_dataDeviceType",t._DeviceTypeViewModel)("filters",t.deviceTypeFilters)}}const w=function(i){return{"p-button-danger":i}},V=function(){return{"min-width":"50rem"}},X=[{path:"device",component:A},{path:"device-type",component:(()=>{class i{constructor(t,n,r){this._breadcrumbService=t,this._messageService=n,this._deviceTypeService=r,this.showFilters=!1,this.showDialog=!1,this.loading=!1,this.deviceTypeFilters=new b,this._breadcrumbService.setItems([{label:"Maestros generales"},{label:"Tipos de dispositivos",routerLink:["/devicetype-list"]}])}ngOnInit(){}search(){this.loading=!0,this._deviceTypeService.getDeviceTypeList(this.deviceTypeFilters).subscribe(t=>{this._deviceTypeService._deviceTypeList=t,this.loading=!1},t=>{this.loading=!1,console.error("Error al cargar los tipos de dispositivos",t),this._messageService.add({severity:"error",summary:"Consulta",detail:"Ha ocurrido un error al cargar los tipos de dispositivos"})})}openNew(){this.showDialog=!0}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(D.p),e.Y36(c.ez),e.Y36(W))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-device-type-list"]],decls:14,vars:13,consts:[[1,"card","p-m-0","p-pb-0"],[1,"p-d-flex","p-ai-center","p-jc-between","p-flex-column","p-flex-md-row"],[1,"p-input-icon-left","p-ml-md-auto","p-mr-md-3","p-mb-3","p-mb-md-0","p-mb-lg-0"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Buscar..."],["pButton","","pRipple","","icon","pi pi-plus","pTooltip","Crear nuevo","tooltipPosition","top",1,"p-button-success",3,"ngClass","click"],["pButton","","pRipple","","icon","pi pi-filter","pTooltip","Filtros","tooltipPosition","top",1,"p-ml-2","p-button-help",3,"ngClass","click"],[1,"p-mt-3",3,"filters","expanded","loading","onSearch","filtersChange"],[1,"card"],[3,"value","tableStyle"],["pTemplate","header"],["pTemplate","body"],[3,"showDialog","_dataDeviceType","filters","showDialogChange","_dataDeviceTypeChange","filtersChange",4,"ngIf"],[3,"showDialog","_dataDeviceType","filters","showDialogChange","_dataDeviceTypeChange","filtersChange"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"span",2),e._UZ(3,"i",3)(4,"input",4),e.qZA(),e.TgZ(5,"div")(6,"button",5),e.NdJ("click",function(){return n.openNew()}),e.qZA(),e.TgZ(7,"button",6),e.NdJ("click",function(){return n.showFilters=!n.showFilters}),e.qZA()()(),e.TgZ(8,"app-device-type-filter-panel",7),e.NdJ("onSearch",function(){return n.search()})("filtersChange",function(a){return n.deviceTypeFilters=a}),e.qZA()(),e.TgZ(9,"div",8)(10,"p-table",9),e.YNc(11,j,9,0,"ng-template",10),e.YNc(12,E,9,4,"ng-template",11),e.qZA()(),e.YNc(13,R,1,3,"app-device-type-panel",12)),2&t&&(e.xp6(6),e.Q6J("ngClass",e.VKq(8,w,n.showDialog)),e.xp6(1),e.Q6J("ngClass",e.VKq(10,w,n.showFilters)),e.xp6(1),e.Q6J("filters",n.deviceTypeFilters)("expanded",n.showFilters)("loading",n.loading),e.xp6(2),e.Q6J("value",n._deviceTypeService._deviceTypeList)("tableStyle",e.DdM(12,V)),e.xp6(3),e.Q6J("ngIf",n.showDialog))},dependencies:[s.mk,s.O5,u.Hq,c.jx,_.iA,m.o,g.H,O.u,k,z]}),i})()},{path:"weather",component:P}];let $=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[T.Bz.forChild(X),T.Bz]}),i})();var ee=p(9764),te=p(8883),ie=p(2453);let ne=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[s.ez,d.u5,l.JF,$,u.hJ,ee.Q,v.l,_.U$,te.W,ie.EV]}),i})()}}]);